"use strict";(self.webpackChunkreact_lesson_1=self.webpackChunkreact_lesson_1||[]).push([[58],{3058:function(e,n,s){s.r(n),s.d(n,{default:function(){return x}});var t=s(3433),r=s(9439),a=s(9867),c="ChatPage_photoSize__zsDD0",i=s(2834),u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),o=function(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(d,{}),(0,i.jsx)(h,{})]})},d=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),s=n[0],c=n[1];return(0,a.useEffect)((function(){u.addEventListener("message",(function(e){var n=JSON.parse(e.data);c((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(n))}))}))}),[]),(0,i.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:s.map((function(e,n){return(0,i.jsx)(l,{message:e},n)}))})},l=function(e){var n=e.message;return(0,i.jsxs)("div",{className:c,children:[(0,i.jsx)("img",{src:n.photo,alt:"icon"}),(0,i.jsx)("b",{children:n.userName}),(0,i.jsx)("br",{}),n.message,(0,i.jsx)("hr",{})]})},h=function(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),s=n[0],t=n[1];return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("textarea",{onChange:function(e){return t(e.currentTarget.value)}})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:function(){s&&(u.send(s),t(""))},children:"Send"})})]})},x=function(){return(0,i.jsx)("div",{children:(0,i.jsx)(o,{})})}}}]);
//# sourceMappingURL=58.6c9cb207.chunk.js.map